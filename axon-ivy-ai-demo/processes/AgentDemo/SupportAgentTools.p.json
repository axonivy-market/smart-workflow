{
  "$schema" : "https://json-schema.axonivy.com/process/13.1.2/process.json",
  "id" : "19856884121ED111",
  "config" : {
    "data" : "AgentDemo.SupportAgentToolsData"
  },
  "elements" : [ {
      "id" : "f0",
      "type" : "RequestStart",
      "name" : "start",
      "config" : {
        "signature" : "start"
      },
      "tags" : [
        "demo"
      ],
      "visual" : {
        "at" : { "x" : 96, "y" : 64 }
      },
      "connect" : [
        { "id" : "f2", "to" : "f5" }
      ]
    }, {
      "id" : "f1",
      "type" : "TaskEnd",
      "visual" : {
        "at" : { "x" : 616, "y" : 64 }
      }
    }, {
      "id" : "f3",
      "type" : "ProgramInterface",
      "name" : "Ivy Agent",
      "config" : {
        "javaClass" : "com.axonivy.utils.ai.tools.AgenticProcessCall",
        "userConfig" : {
          "planningInstructions" : "Should create a support ticket before assign approver to it",
          "createSupportTicket(String)" : "After create a support ticket, should choose approvers",
          "maxIterations" : "15",
          "agentId" : "\"support-agent\"",
          "goal" : "The support ticket is created and then a task should be created to handle that ticket.",
          "query" : "in.agentInput",
          "createSupportTask(com.axonivy.utils.ai.axon.ivy.ai.demo.dto.SupportTicket)" : "If the task is created, the process is completed",
          "chooseTicketApprover(SupportTicket)" : "If the ticket type is HR, use the specified tool to handle HR Ticket. Otherwise, use the typical Create Support Task Tool. If the ticket type is HR, use the specified tool to handle HR Ticket. Otherwise, use the typical Create Support Task Tool",
          "createSupportTicket(java.lang.String)" : "If the ticket is created successfully, choose approver",
          "createSupportTicket(java.lang.String,java.lang.String)" : "After create a support ticket, should choose approvers",
          "chooseTicketApprover(com.axonivy.utils.ai.axon.ivy.ai.demo.dto.SupportTicket)" : "If the ticket type is HR, use the specified tool to handle HR Ticket. Otherwise, use the typical Create Support Task Tool. If the ticket type is HR, use the specified tool to handle HR Ticket. Otherwise, use the typical Create Support Task Tool",
          "undefined" : "After create a support ticket, should choose approvers"
        }
      },
      "visual" : {
        "at" : { "x" : 456, "y" : 64 },
        "icon" : "res:/webContent/logo/agent.png"
      },
      "connect" : [
        { "id" : "f4", "to" : "f1", "color" : "default" }
      ]
    }, {
      "id" : "f5",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "in.agentInput.query = \"Help me, my computer is beeping, it started after opening AxonIvy Portal.\";",
            "in.agentInput.employeeUsername = \"john.doe\";"
          ]
        }
      },
      "visual" : {
        "at" : { "x" : 256, "y" : 64 }
      },
      "connect" : [
        { "id" : "f6", "to" : "f3", "color" : "default" }
      ]
    } ]
}