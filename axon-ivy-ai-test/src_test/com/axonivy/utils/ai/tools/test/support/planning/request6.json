{
  "model" : "gpt-4.1-mini",
  "messages" : [ {
    "role" : "system",
    "content" : "Should create a support ticket then create a task to handle the support ticket"
  }, {
    "role" : "user",
    "content" : "Help me, my computer is beeping, it started after opening AxonIvy Portal."
  }, {
    "role" : "assistant",
    "tool_calls" : [ {
      "id" : "call_3LnAl1PylKRBpgj222aQYvbA",
      "type" : "function",
      "function" : {
        "name" : "createSupportTicket",
        "arguments" : "{\"query\": \"My computer is beeping, it started after opening AxonIvy Portal.\"}"
      }
    }, {
      "id" : "call_szmdvWds99uUHCGi5RCsFRUp",
      "type" : "function",
      "function" : {
        "name" : "createSupportTask",
        "arguments" : "{\"supportTicket\": {\"type\": \"TECHNICAL\", \"name\": \"Computer beeping issue after opening AxonIvy Portal\", \"description\": \"The user's computer started beeping after opening AxonIvy Portal. Needs technical investigation and resolution.\"}}"
      }
    } ]
  }, {
    "role" : "tool",
    "tool_call_id" : "call_3LnAl1PylKRBpgj222aQYvbA",
    "content" : "{\r\n  \"supportTicket\" : {\r\n    \"id\" : \"f0f362a4e55044baa7caad7f71be897f\",\r\n    \"type\" : \"TECHNICAL\",\r\n    \"name\" : \"[TECHNICAL] Computer Beeping After Opening AxonIvy Portal\",\r\n    \"description\" : \"My computer is beeping, it started after opening AxonIvy Portal.\",\r\n    \"employeeUsername\" : null,\r\n    \"firstApprover\" : null,\r\n    \"secondApprover\" : null,\r\n    \"aiApproval\" : null,\r\n    \"firstApproval\" : null,\r\n    \"secondApproval\" : null,\r\n    \"requestedDate\" : null\r\n  },\r\n  \"aiResult\" : \"The support ticket is created\"\r\n}"
  }, {
    "role" : "tool",
    "tool_call_id" : "call_szmdvWds99uUHCGi5RCsFRUp",
    "content" : "{\r\n  \"aiResult\" : \"Task is created successfully\"\r\n}"
  } ],
  "temperature" : 0.0,
  "stream" : false,
  "tools" : [ {
    "type" : "function",
    "function" : {
      "name" : "createSupportTicket",
      "description" : "Use this tool to create a support ticket object",
      "parameters" : {
        "type" : "object",
        "properties" : {
          "query" : {
            "type" : "string",
            "description" : "The original input query"
          },
          "employeeUsername" : {
            "type" : "string",
            "description" : "Username of the employee who create the request"
          }
        },
        "required" : [ ]
      }
    }
  }, {
    "type" : "function",
    "function" : {
      "name" : "createSupportTask",
      "description" : "Use this tool to create a support ticket task",
      "parameters" : {
        "type" : "object",
        "properties" : {
          "supportTicket" : {
            "type" : "object",
            "description" : "The task information object",
            "properties" : {
              "id" : {
                "type" : "string"
              },
              "type" : {
                "type" : "string",
                "enum" : [ "TECHNICAL", "CUSTOMER", "HR", "OTHER" ]
              },
              "name" : {
                "type" : "string"
              },
              "description" : {
                "type" : "string"
              },
              "employeeUsername" : {
                "type" : "string"
              },
              "firstApprover" : {
                "type" : "string"
              },
              "secondApprover" : {
                "type" : "string"
              },
              "aiApproval" : {
                "type" : "object",
                "properties" : {
                  "decision" : {
                    "type" : "string",
                    "enum" : [ "APPROVE", "REJECT", "WARNING" ]
                  },
                  "reason" : {
                    "type" : "string"
                  }
                },
                "required" : [ ]
              },
              "firstApproval" : {
                "type" : "object",
                "properties" : {
                  "approver" : {
                    "type" : "string"
                  },
                  "isApprove" : {
                    "type" : "boolean"
                  },
                  "comment" : {
                    "type" : "string"
                  }
                },
                "required" : [ ]
              },
              "secondApproval" : {
                "type" : "object",
                "properties" : {
                  "approver" : {
                    "type" : "string"
                  },
                  "isApprove" : {
                    "type" : "boolean"
                  },
                  "comment" : {
                    "type" : "string"
                  }
                },
                "required" : [ ]
              },
              "requestedDate" : {
                "type" : "string"
              },
              "requestor" : {
                "type" : "object",
                "properties" : {
                  "username" : {
                    "type" : "string"
                  },
                  "fullName" : {
                    "type" : "string"
                  },
                  "position" : {
                    "type" : "string",
                    "enum" : [ "JUNIOR", "SENIOR", "MANAGER" ]
                  },
                  "departmentId" : {
                    "type" : "string"
                  },
                  "maxLeaveDays" : {
                    "type" : "integer"
                  },
                  "usedLeaveDays" : {
                    "type" : "integer"
                  },
                  "email" : {
                    "type" : "string"
                  },
                  "department" : {
                    "type" : "object",
                    "properties" : {
                      "id" : {
                        "type" : "string"
                      },
                      "name" : {
                        "type" : "string"
                      },
                      "firstLevelManager" : {
                        "type" : "string"
                      },
                      "secondLevelManager" : {
                        "type" : "string"
                      },
                      "firstLevelManagerEmp" : {
                        "$ref" : "#/$defs/8ca548b0-67db-3ee4-8cf7-7509fb1b2bbf"
                      },
                      "secondLevelManagerEmp" : {
                        "$ref" : "#/$defs/8ca548b0-67db-3ee4-8cf7-7509fb1b2bbf"
                      }
                    },
                    "required" : [ ]
                  }
                },
                "required" : [ ]
              }
            },
            "required" : [ ]
          }
        },
        "required" : [ ]
      }
    }
  } ]
}