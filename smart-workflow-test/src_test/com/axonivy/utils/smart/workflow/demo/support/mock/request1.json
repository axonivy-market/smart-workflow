{
  "model" : "gpt-4.1-mini",
  "messages" : [ {
    "role" : "system",
    "content" : "You are a Support Agent"
  }, {
    "role" : "user",
    "content" : "I have error 404 in Cockpit"
  } ],
  "temperature" : 0.0,
  "stream" : false,
  "response_format" : {
    "type" : "json_schema",
    "json_schema" : {
      "name" : "SupportTicket",
      "strict" : false,
      "schema" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "type" : {
            "type" : "string",
            "description" : "Type of the support ticket. It's an enum field",
            "enum" : [ "TECHNICAL", "CUSTOMER", "HR", "OTHER" ]
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the support ticket. Must be start with prefix 'Support ticket: '"
          },
          "description" : {
            "type" : "string",
            "description" : "description of the support ticket"
          },
          "employeeUsername" : {
            "type" : "string",
            "description" : "username of the employee requested this ticket"
          },
          "firstApprover" : {
            "type" : "string",
            "description" : "username of the first approver of this ticket. Field type: approval"
          },
          "secondApprover" : {
            "type" : "string",
            "description" : "username of the second approver of this ticket. Field type: approval"
          },
          "aiApproval" : {
            "type" : "object",
            "description" : "approval decision by AI. Field type: approval",
            "properties" : {
              "decision" : {
                "type" : "string",
                "description" : "Your decision. This is an enum field",
                "enum" : [ "APPROVE", "REJECT", "WARNING" ]
              },
              "reason" : {
                "type" : "string",
                "description" : "The reason why you choose the decision. This field should be plain text."
              }
            },
            "required" : [ ]
          },
          "firstApproval" : {
            "type" : "object",
            "description" : "approval decision by the first approver. Field type: approval",
            "properties" : {
              "approver" : {
                "type" : "string"
              },
              "isApprove" : {
                "type" : "boolean"
              },
              "comment" : {
                "type" : "string"
              }
            },
            "required" : [ ]
          },
          "secondApproval" : {
            "type" : "object",
            "description" : "approval decision by the first approver. Field type: approval",
            "properties" : {
              "approver" : {
                "type" : "string"
              },
              "isApprove" : {
                "type" : "boolean"
              },
              "comment" : {
                "type" : "string"
              }
            },
            "required" : [ ]
          },
          "requestedDate" : {
            "type" : "string",
            "description" : "The request date of this support ticket. Do not fill this field"
          },
          "requestor" : {
            "type" : "object",
            "properties" : {
              "username" : {
                "type" : "string",
                "description" : "Unique username of the employee"
              },
              "fullName" : {
                "type" : "string",
                "description" : "Full legal name of the employee"
              },
              "position" : {
                "type" : "string",
                "description" : "Position or job title of the employee within the organization",
                "enum" : [ "JUNIOR", "SENIOR", "MANAGER" ]
              },
              "departmentId" : {
                "type" : "string",
                "description" : "Identifier of the department the employee belongs to"
              },
              "maxLeaveDays" : {
                "type" : "integer",
                "description" : "Maximum number of leave days allocated to the employee per year"
              },
              "usedLeaveDays" : {
                "type" : "integer",
                "description" : "Number of leave days already used by the employee"
              },
              "email" : {
                "type" : "string",
                "description" : "Work email address of the employee"
              },
              "department" : {
                "type" : "object",
                "description" : "Department details of the employee, ignored during JSON serialization",
                "properties" : {
                  "id" : {
                    "type" : "string"
                  },
                  "name" : {
                    "type" : "string"
                  },
                  "firstLevelManager" : {
                    "type" : "string"
                  },
                  "secondLevelManager" : {
                    "type" : "string"
                  },
                  "firstLevelManagerEmp" : {
                    "$ref" : "#/$defs/e2bd9343-f98a-3e86-822c-5387998ab8e0"
                  },
                  "secondLevelManagerEmp" : {
                    "$ref" : "#/$defs/e2bd9343-f98a-3e86-822c-5387998ab8e0"
                  }
                },
                "required" : [ ]
              }
            },
            "required" : [ ]
          }
        },
        "required" : [ ],
        "$defs" : {
          "e2bd9343-f98a-3e86-822c-5387998ab8e0" : {
            "type" : "object",
            "properties" : {
              "username" : {
                "type" : "string",
                "description" : "Unique username of the employee"
              },
              "fullName" : {
                "type" : "string",
                "description" : "Full legal name of the employee"
              },
              "position" : {
                "type" : "string",
                "description" : "Position or job title of the employee within the organization",
                "enum" : [ "JUNIOR", "SENIOR", "MANAGER" ]
              },
              "departmentId" : {
                "type" : "string",
                "description" : "Identifier of the department the employee belongs to"
              },
              "maxLeaveDays" : {
                "type" : "integer",
                "description" : "Maximum number of leave days allocated to the employee per year"
              },
              "usedLeaveDays" : {
                "type" : "integer",
                "description" : "Number of leave days already used by the employee"
              },
              "email" : {
                "type" : "string",
                "description" : "Work email address of the employee"
              },
              "department" : {
                "type" : "object",
                "description" : "Department details of the employee, ignored during JSON serialization",
                "properties" : {
                  "id" : {
                    "type" : "string"
                  },
                  "name" : {
                    "type" : "string"
                  },
                  "firstLevelManager" : {
                    "type" : "string"
                  },
                  "secondLevelManager" : {
                    "type" : "string"
                  },
                  "firstLevelManagerEmp" : {
                    "$ref" : "#/$defs/e2bd9343-f98a-3e86-822c-5387998ab8e0"
                  },
                  "secondLevelManagerEmp" : {
                    "$ref" : "#/$defs/e2bd9343-f98a-3e86-822c-5387998ab8e0"
                  }
                },
                "required" : [ ]
              }
            },
            "required" : [ ]
          }
        }
      }
    }
  }
}